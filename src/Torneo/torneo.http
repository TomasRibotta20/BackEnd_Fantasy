### ========== RUTAS DE ADMIN ==========

### Obtener todos los torneos con filtros (Admin) - Sin filtros
GET http://localhost:3000/api/torneos
Content-Type: application/json

### Obtener todos los torneos con filtros específicos (Admin)
GET http://localhost:3000/api/torneos?estado=ACTIVO&min_participantes=1&max_participantes=10&limit=5&offset=0
Content-Type: application/json

### Obtener todos los torneos por rango de fechas (Admin)
GET http://localhost:3000/api/torneos?fecha_creacion_desde=2025-12-03T20:00:00Z&fecha_creacion_hasta=2025-12-03T23:59:00Z&min_participantes=1
Content-Type: application/json

### Obtener un torneo específico con detalles completos (Admin)
GET http://localhost:3000/api/torneos/12
Content-Type: application/json

### ========== CREACIÓN Y MODIFICACIÓN ==========

### Crear un nuevo torneo (requiere autenticación)
# Primero hacer LOGIN desde auth.http
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "La LIGA",
  "descripcion": "Torneo de fantasy",
  "cupoMaximo": 3,
  "nombre_equipo": "Equipo de Prueba",
  "fecha_inicio": "2024-01-15T10:00:00Z"
}

### Crear torneo mínimo (solo campos obligatorios)
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Torneo Express",
  "descripcion": "Descripción básica",
  "nombre_equipo": "mazaTeam",
  "cupoMaximo": 8
}

### ========== ACTUALIZACIÓN ==========

### Actualizar torneo completo (PUT) - Como creador o admin
PUT http://localhost:3000/api/torneos/12
Content-Type: application/json

{
  "nombre": "Liga Fantasy 2024 - Actualizada"
}

### Actualización parcial (PATCH) - Solo algunos campos
PATCH http://localhost:3000/api/torneos/5
Content-Type: application/json

{
  "cupoMaximo": 3
}

### Actualizar solo el cupo máximo
PATCH http://localhost:3000/api/torneos/14
Content-Type: application/json

{
  "codigo_acceso": "WWFYZK"
}

### Actualizar código de acceso (solo admin)
PATCH http://localhost:3000/api/torneos/1
Content-Type: application/json

{
  "codigo_acceso": "NUEVO123"
}

### ========== ELIMINACIÓN ==========

### Eliminar torneo (solo admin)
DELETE http://localhost:3000/api/torneos/11
Content-Type: application/json

### ========== RUTAS DE USUARIO ==========

### Validar código de acceso antes de unirse
POST http://localhost:3000/api/torneos/validar-codigo
Content-Type: application/json

{
  "codigo_acceso": "DLMSGC"
}

### Unirse a un torneo
POST http://localhost:3000/api/torneos/unirse
Content-Type: application/json

{
  "codigo_acceso": "GVZFWF",
  "nombre_equipo": "Los Galácticos"
}

### Ver mis torneos (con filtro opcional por estado)
POST http://localhost:3000/api/torneos/mis-torneos
Content-Type: application/json

### Ver mis torneos filtrados por estado
GET http://localhost:3000/api/torneos/mis-torneos?estado=ACTIVO
Content-Type: application/json

### Ver mis torneos en espera
GET http://localhost:3000/api/torneos/mis-torneos?estado=EN_ESPERA
Content-Type: application/json

### Ver detalles de un torneo como participante
GET http://localhost:3000/api/torneos/mi-torneo/1
Content-Type: application/json

### Abandonar un torneo
DELETE http://localhost:3000/api/torneos/abandonar/5
Content-Type: application/json

### ========== CASOS DE ERROR ==========

### Intentar obtener torneo inexistente
GET http://localhost:3000/api/torneos/99999
Content-Type: application/json

### Intentar crear torneo sin autenticación (debería fallar)
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Torneo Sin Auth"
}

### Intentar actualizar con cupo menor a participantes actuales (debería fallar)
PATCH http://localhost:3000/api/torneos/1
Content-Type: application/json

{
  "cupoMaximo": 1
}

### Validar código inválido (debería fallar)
POST http://localhost:3000/api/torneos/validar-codigo
Content-Type: application/json

{
  "codigo_acceso": "CODIGO_INEXISTENTE"
}

### Intentar unirse con código inválido (debería fallar)
POST http://localhost:3000/api/torneos/unirse
Content-Type: application/json

{
  "codigo_acceso": "MU9ELX",
  "nombre_equipo": "Mi Equipo"
}

### Intentar unirse dos veces al mismo torneo (debería fallar)
POST http://localhost:3000/api/torneos/unirse
Content-Type: application/json

{
  "codigo_acceso": "ABC123",
  "nombre_equipo": "Segundo Equipo"
}

### Intentar ver torneo sin estar inscrito (debería fallar)
GET http://localhost:3000/api/torneos/mi-torneo/99
Content-Type: application/json

### Intentar abandonar torneo que no existe (debería fallar)
DELETE http://localhost:3000/api/torneos/abandonar/99999
Content-Type: application/json

### ========== FILTROS AVANZADOS ==========

### Filtrar solo torneos activos
GET http://localhost:3000/api/torneos?estado=ACTIVO
Content-Type: application/json

### Filtrar por participantes exactos
GET http://localhost:3000/api/torneos?min_participantes=5&max_participantes=5
Content-Type: application/json

### Paginación avanzada
GET http://localhost:3000/api/torneos?limit=3&offset=6
Content-Type: application/json

### Combinación de todos los filtros
GET http://localhost:3000/api/torneos?estado=EN_ESPERA&fecha_creacion_desde=2024-01-01&min_participantes=2&max_participantes=15&limit=10&offset=0
Content-Type: application/json

### ========== FLUJO COMPLETO DE USUARIO ==========

### 1. Validar código antes de unirse
POST http://localhost:3000/api/torneos/validar-codigo
Content-Type: application/json

{
  "codigo_acceso": "PU0WTZ"
}

### 2. Unirse al torneo si el código es válido
POST http://localhost:3000/api/torneos/unirse
Content-Type: application/json

{
  "codigo_acceso": "PU0WTZ",
  "nombre_equipo": "Dream Team"
}

### 3. Ver mis torneos para confirmar
POST http://localhost:3000/api/torneos/mis-torneos
Content-Type: application/json

### 4. Ver detalles del torneo y otros participantes
GET http://localhost:3000/api/torneos/mi-torneo/5
Content-Type: application/json

### 5. Abandonar torneo si es necesario
DELETE http://localhost:3000/api/torneos/abandonar/9
Content-Type: application/json

#############################################
### Flujo basico de creación de torneo
### 1. Usuario se loguea

POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "admin@admin.com",
  "password": "admin123"
}

### 2. Usuario crea un torneo

### La descripción es opcional y la fecha de inicio también lo es
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "La LIGA",
  "descripcion": "Torneo de fantasy", 
  "cupoMaximo": 3,
  "nombre_equipo": "Equipo de Prueba",
  "fecha_inicio": "2024-01-15T10:00:00Z"
}

### 3. Usuario verifica que el torneo fue creado

POST http://localhost:3000/api/torneos/mis-torneos
Content-Type: application/json

### Ahora hay que probar el update de ese torneo EN_ESPERA

### 4. Usuario quiere actualizar el torneo
### Actualizar torneo completo (PUT) - Como creador o admin
PUT http://localhost:3000/api/torneos/5
Content-Type: application/json

{
  "nombre": "Liga Fantasy 2024 - Actualizada",
  "cupoMaximo": 5,
  "fecha_inicio": "2024-02-01T15:00:00Z"
}

### Actualización parcial (PATCH) - Solo algunos campos
PATCH http://localhost:3000/api/torneos/1
Content-Type: application/json

{
  "nombre": "Nuevo Nombre de Torneo"
}

### Actualizar solo el cupo máximo
PATCH http://localhost:3000/api/torneos/5
Content-Type: application/json

{
  "cupoMaximo": 10
}

### Actualizar código de acceso (solo admin)
PATCH http://localhost:3000/api/torneos/1
Content-Type: application/json

{
  "codigo_acceso": "NUEVO123"
}

###
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "TomasRibotta20@gmail.com",
  "password": "TeAmoMazalan69"
}



### TORNEO 1 - Liga Premier
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "TomasRibotta20@gmail.com",
  "password": "TeAmoMazalan69"
}
###
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Liga Premier Fantasy",
  "descripcion": "Torneo basado en la Premier League",
  "cupoMaximo": 8,
  "nombre_equipo": "Manchester United FC",
  "fecha_inicio": "2024-01-15T10:00:00Z"
}

### TORNEO 2 - Champions League
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Champions League Fantasy",
  "descripcion": "Torneo de la máxima competición europea",
  "cupoMaximo": 6,
  "nombre_equipo": "Real Madrid CF"
}

### TORNEO 3 - Liga Argentina
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Liga Profesional Argentina",
  "descripcion": "Fantasy de la liga argentina",
  "cupoMaximo": 10,
  "nombre_equipo": "River Plate",
  "fecha_inicio": "2024-02-01T15:00:00Z"
}
#######################################
### TORNEO 4 - Copa Libertadores
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Copa Libertadores Fantasy",
  "descripcion": "La Copa más importante de América",
  "cupoMaximo": 4,
  "nombre_equipo": "Boca Juniors"
}
### LOGIN Usuario 1 - Test
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "test@test.com",
  "password": "Password123"
}
#####################################################
### TORNEO 5 - Liga Española
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "La Liga Santander",
  "descripcion": "Fantasy de la liga española",
  "cupoMaximo": 10,
  "nombre_equipo": "FC Barcelona",
  "fecha_inicio": "2024-01-20T12:00:00Z"
}

### TORNEO 6 - Serie A
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Serie A TIM Fantasy",
  "descripcion": "Liga italiana de fantasy football",
  "cupoMaximo": 8,
  "nombre_equipo": "Juventus FC"
}

### LOGIN Usuario 2 - Jugador 1
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "jugador1@fantasy.com",
  "password": "Password123"
}
###########################################
### TORNEO 7 - Bundesliga
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Bundesliga Fantasy",
  "descripcion": "Liga alemana de máximo nivel",
  "cupoMaximo": 6,
  "nombre_equipo": "Bayern Munich",
  "fecha_inicio": "2024-02-15T14:00:00Z"
}

### LOGIN Usuario 3 - Jugador 2
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "jugador2@fantasy.com",
  "password": "Password123"
}
###########################################

### TORNEO 8 - Liga MX
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Liga MX Clausura",
  "descripcion": "Torneo mexicano de fantasy",
  "cupoMaximo": 10,
  "nombre_equipo": "Club América"
}

### LOGIN Usuario 4 - Futbolero
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "futbolero@liga.com",
  "password": "Password123"
}
###########################################

### TORNEO 9 - Copa del Mundo
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "World Cup Fantasy",
  "descripcion": "Fantasy de la Copa del Mundo",
  "cupoMaximo": 10,
  "nombre_equipo": "Argentina National Team",
  "fecha_inicio": "2024-03-01T16:00:00Z"
}

### TORNEO 10 - Liga de Amigos
POST http://localhost:3000/api/torneos
Content-Type: application/json

{
  "nombre": "Liga Entre Amigos",
  "descripcion": "Torneo privado para amigos",
  "cupoMaximo": 5,
  "nombre_equipo": "Los Galácticos"
}
### LOGIN Usuario 5 - Manager Pro
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "manager@champions.com",
  "password": "Password123"
}
###########################################
### Iniciar torneo como creador (exitoso)
POST http://localhost:3000/api/torneos/iniciar/1
Content-Type: application/json


### Expulsar participante de un torneo (exitoso)
DELETE http://localhost:3000/api/torneos/12/participante/8